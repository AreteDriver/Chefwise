"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{5876:function(e,n,r){r.d(n,{Z:function(){return x}});var t=r(5893),s=r(1163),i=r(2753),a=r(8232),o=r(7294);function c(e){let{user:n,currentPage:r=""}=e,c=(0,s.useRouter)(),[l,d]=(0,o.useState)(!1),x=async()=>{try{await (0,i.w7)(a.I8),c.push("/")}catch(e){console.error("Sign out error:",e)}},m=[{name:"Home",href:"/",current:"home"===r},{name:"Recipes",href:"/recipes",current:"recipes"===r,requiresAuth:!0},{name:"Pantry",href:"/pantry",current:"pantry"===r,requiresAuth:!0},{name:"Planner",href:"/planner",current:"planner"===r,requiresAuth:!0},{name:"Tracker",href:"/tracker",current:"tracker"===r,requiresAuth:!0},{name:"Profile",href:"/profile",current:"profile"===r,requiresAuth:!0}].filter(e=>!e.requiresAuth||n),u=e=>{d(!1),c.push(e)};return(0,t.jsxs)("nav",{className:"bg-white shadow-sm",children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("button",{onClick:()=>u("/"),className:"text-2xl font-bold text-primary hover:text-primary/90 transition-colors",children:"ChefWise"})}),(0,t.jsxs)("div",{className:"hidden md:flex md:items-center md:space-x-4",children:[m.map(e=>(0,t.jsx)("button",{onClick:()=>u(e.href),className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(e.current?"bg-primary/10 text-primary":"text-gray-700 hover:text-primary hover:bg-gray-50"),children:e.name},e.name)),n?(0,t.jsx)("button",{onClick:x,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Sign Out"}):(0,t.jsx)("button",{onClick:()=>c.push("/"),className:"bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:"Get Started"})]}),(0,t.jsx)("div",{className:"flex md:hidden",children:(0,t.jsxs)("button",{type:"button",onClick:()=>d(!l),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-primary hover:bg-gray-100 transition-colors","aria-expanded":"false",children:[(0,t.jsx)("span",{className:"sr-only",children:"Open main menu"}),l?(0,t.jsx)("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):(0,t.jsx)("svg",{className:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]})})]})}),l&&(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[m.map(e=>(0,t.jsx)("button",{onClick:()=>u(e.href),className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(e.current?"bg-primary/10 text-primary":"text-gray-700 hover:text-primary hover:bg-gray-50"),children:e.name},e.name)),n&&(0,t.jsx)("button",{onClick:x,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-colors",children:"Sign Out"})]})})]})}var l=r(1158);function d(){let{isOnline:e,pendingSyncCount:n,isSyncing:r,syncError:s,manualSync:i,clearSyncError:a}=(0,l.kH)();return!e||0!==n||s||r?r?(0,t.jsx)("div",{className:"bg-yellow-500 text-white px-4 py-2 text-center text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,t.jsx)("span",{children:"Syncing changes..."})]})}):s?(0,t.jsx)("div",{className:"bg-red-500 text-white px-4 py-2 text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between max-w-screen-xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("span",{children:["Sync error: ",s]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:i,className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded text-xs font-medium transition-colors",children:"Retry"}),(0,t.jsx)("button",{onClick:a,className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Dismiss",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}):e?n>0?(0,t.jsx)("div",{className:"bg-amber-500 text-white px-4 py-2 text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between max-w-screen-xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("span",{children:[n," pending"," ",1===n?"change":"changes"," to sync"]})]}),(0,t.jsx)("button",{onClick:i,className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded text-xs font-medium transition-colors",children:"Sync Now"})]})}):null:(0,t.jsx)("div",{className:"bg-red-600 text-white px-4 py-2 text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between max-w-screen-xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a5 5 0 01-7.072-7.072m0 0l2.829 2.829M3 3l2.829 2.829m0 0a5 5 0 017.072 0"})}),(0,t.jsxs)("span",{children:["You're offline",n>0&&(0,t.jsxs)("span",{className:"ml-1",children:["(",n," pending"," ",1===n?"change":"changes",")"]})]})]}),(0,t.jsx)("span",{className:"text-xs opacity-80",children:"Changes will sync when online"})]})}):null}function x(e){let{children:n,user:r,currentPage:s=""}=e;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(d,{}),(0,t.jsx)(c,{user:r,currentPage:s}),(0,t.jsx)("main",{children:n})]})}},6727:function(e,n,r){r.d(n,{G3:function(){return a},V4:function(){return o},eI:function(){return c},qv:function(){return i},s8:function(){return l}});var t=r(9356);let s=0;async function i(e,n){s++;let r={id:n.id||"recipe_".concat(e,"_").concat(Date.now(),"_").concat(s,"_").concat(Math.random().toString(36).substr(2,5)),userId:e,...n,savedAt:new Date().toISOString()};return await t.Nf.put(t.RF.RECIPES,r),r}async function a(e){return t.Nf.get(t.RF.RECIPES,e)}async function o(e){return(await t.Nf.getByIndex(t.RF.RECIPES,"userId",e)).sort((e,n)=>new Date(n.savedAt)-new Date(e.savedAt))}async function c(e){await t.Nf.remove(t.RF.RECIPES,e)}async function l(e,n){let r=await o(e),t=n.toLowerCase();return r.filter(e=>{var n,r,s;let i=null===(n=e.title)||void 0===n?void 0:n.toLowerCase().includes(t),a=null===(r=e.tags)||void 0===r?void 0:r.some(e=>e.toLowerCase().includes(t)),o=null===(s=e.ingredients)||void 0===s?void 0:s.some(e=>e.toLowerCase().includes(t));return i||a||o})}}}]);