(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{4465:function(e,t,n){"use strict";n.d(t,{J:function(){return h}});var r,i="https://js.stripe.com/v3",a=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,o=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var n=e[t];if(a.test(n.src))return n}return null},s=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(i).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},c=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})},l=null,u=null,d=null,f=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return c(r,n),r},p=!1,m=function(){return r||(r=(null!==l?l:(l=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var n,r=o();r?r&&null!==d&&null!==u&&(r.removeEventListener("load",d),r.removeEventListener("error",u),null===(n=r.parentNode)||void 0===n||n.removeChild(r),r=s(null)):r=s(null),d=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},u=function(){t(Error("Failed to load Stripe.js"))},r.addEventListener("load",d),r.addEventListener("error",u)}catch(e){t(e);return}})).catch(function(e){return l=null,Promise.reject(e)})).catch(function(e){return r=null,Promise.reject(e)}))};Promise.resolve().then(function(){return m()}).catch(function(e){p||console.warn(e)});var h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];p=!0;var r=Date.now();return m().then(function(e){return f(e,t,r)})}},1163:function(e,t,n){e.exports=n(3079)},3774:function(e,t,n){"use strict";let r,i,a,o,s,c,l;n.d(t,{r:function(){return tc}});var u,d,f,p,m=n(9711),h=n(4645),g=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},v=function(e){if("loading"===document.readyState)return"loading";var t=g();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},b=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},T=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:b(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},y=-1,E=function(e){addEventListener("pageshow",function(t){t.persisted&&(y=t.timeStamp,e(t))},!0)},_=function(){var e=g();return e&&e.activationStart||0},S=function(e,t){var n=g(),r="navigate";return y>=0?r="back-forward-cache":n&&(document.prerendering||_()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},w=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},I=function(e,t,n,r){var i,a;return function(o){var s;t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=(s=t.value)>n[1]?"poor":s>n[0]?"needs-improvement":"good",e(t))}},M=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},A=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},k=function(e){var t=!1;return function(){t||(e(),t=!0)}},N=-1,C=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},L=function(e){"hidden"===document.visibilityState&&N>-1&&(N="visibilitychange"===e.type?e.timeStamp:0,F())},P=function(){addEventListener("visibilitychange",L,!0),addEventListener("prerenderingchange",L,!0)},F=function(){removeEventListener("visibilitychange",L,!0),removeEventListener("prerenderingchange",L,!0)},R=function(){return N<0&&(N=C(),P(),E(function(){setTimeout(function(){N=C(),P()},0)})),{get firstHiddenTime(){return N}}},O=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},U=[1800,3e3],D=function(e,t){t=t||{},O(function(){var n,r=R(),i=S("FCP"),a=w("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-_(),0),i.entries.push(e),n(!0)))})});a&&(n=I(e,i,U,t.reportAllChanges),E(function(r){n=I(e,i=S("FCP"),U,t.reportAllChanges),M(function(){i.value=performance.now()-r.timeStamp,n(!0)})}))})},B=[.1,.25],x=function(e,t){var n,r;n=function(t){e(function(e){var t,n={};if(e.entries.length){var r=e.entries.reduce(function(e,t){return e&&e.value>t.value?e:t});if(r&&r.sources&&r.sources.length){var i=(t=r.sources).find(function(e){return e.node&&1===e.node.nodeType})||t[0];i&&(n={largestShiftTarget:T(i.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:i,largestShiftEntry:r,loadState:v(r.startTime)})}}return Object.assign(e,{attribution:n})}(t))},r=(r=t)||{},D(k(function(){var e,t=S("CLS",0),i=0,a=[],o=function(n){n.forEach(function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}}),i>t.value&&(t.value=i,t.entries=a,e())},s=w("layout-shift",o);s&&(e=I(n,t,B,r.reportAllChanges),A(function(){o(s.takeRecords()),e(!0)}),E(function(){i=0,e=I(n,t=S("CLS",0),B,r.reportAllChanges),M(function(){return e()})}),setTimeout(e,0))}))},j=0,q=1/0,$=0,z=function(e){e.forEach(function(e){e.interactionId&&(q=Math.min(q,e.interactionId),j=($=Math.max($,e.interactionId))?($-q)/7+1:0)})},W=function(){return f?j:performance.interactionCount||0},K=function(){"interactionCount"in performance||f||(f=w("event",z,{type:"event",buffered:!0,durationThreshold:0}))},V=[],H=new Map,J=0,X=function(){var e=Math.min(V.length-1,Math.floor((W()-J)/50));return V[e]},G=[],Y=function(e){if(G.forEach(function(t){return t(e)}),e.interactionId||"first-input"===e.entryType){var t=V[V.length-1],n=H.get(e.interactionId);if(n||V.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};H.set(r.id,r),V.push(r)}V.sort(function(e,t){return t.latency-e.latency}),V.length>10&&V.splice(10).forEach(function(e){return H.delete(e.id)})}}},Z=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=k(e),"hidden"===document.visibilityState?e():(n=t(e),A(e)),n},Q=[200,500],ee=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},O(function(){K();var n,r,i=S("INP"),a=function(e){Z(function(){e.forEach(Y);var t=X();t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())})},o=w("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=I(e,i,Q,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),A(function(){a(o.takeRecords()),r(!0)}),E(function(){J=W(),V.length=0,H.clear(),r=I(e,i=S("INP"),Q,t.reportAllChanges)}))}))},et=[],en=[],er=0,ei=new WeakMap,ea=new Map,eo=-1,es=function(e){et=et.concat(e),ec()},ec=function(){eo<0&&(eo=Z(el))},el=function(){ea.size>10&&ea.forEach(function(e,t){H.has(t)||ea.delete(t)});var e=V.map(function(e){return ei.get(e.entries[0])}),t=en.length-50;en=en.filter(function(n,r){return r>=t||e.includes(n)});for(var n=new Set,r=0;r<en.length;r++){var i=en[r];em(i.startTime,i.processingEnd).forEach(function(e){n.add(e)})}var a=et.length-1-50;et=et.filter(function(e,t){return e.startTime>er&&t>a||n.has(e)}),eo=-1};G.push(function(e){e.interactionId&&e.target&&!ea.has(e.interactionId)&&ea.set(e.interactionId,e.target)},function(e){var t,n=e.startTime+e.duration;er=Math.max(er,e.processingEnd);for(var r=en.length-1;r>=0;r--){var i=en[r];if(8>=Math.abs(n-i.renderTime)){(t=i).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},en.push(t)),(e.interactionId||"first-input"===e.entryType)&&ei.set(e,t),ec()});var eu,ed,ef,ep,em=function(e,t){for(var n,r=[],i=0;n=et[i];i++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;r.push(n)}return r},eh=function(e,t){p||(p=w("long-animation-frame",es)),ee(function(t){var n,r,i,a,o,s,c,l,u,d;e((n=t.entries[0],r=ei.get(n),i=n.processingStart,a=r.processingEnd,o=r.entries.sort(function(e,t){return e.processingStart-t.processingStart}),s=em(n.startTime,a),l=(c=t.entries.find(function(e){return e.target}))&&c.target||ea.get(n.interactionId),u=[n.startTime+n.duration,a].concat(s.map(function(e){return e.startTime+e.duration})),d=Math.max.apply(Math,u),Object.assign(t,{attribution:{interactionTarget:T(l),interactionTargetElement:l,interactionType:n.name.startsWith("key")?"keyboard":"pointer",interactionTime:n.startTime,nextPaintTime:d,processedEventEntries:o,longAnimationFrameEntries:s,inputDelay:i-n.startTime,processingDuration:a-i,presentationDelay:Math.max(d-a,0),loadState:v(n.startTime)}})))},t)},eg=[2500,4e3],ev={},eb=function(e,t){var n,r;n=function(t){e(function(e){var t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){var n=g();if(n){var r=n.activationStart||0,i=e.entries[e.entries.length-1],a=i.url&&performance.getEntriesByType("resource").filter(function(e){return e.name===i.url})[0],o=Math.max(0,n.responseStart-r),s=Math.max(o,a?(a.requestStart||a.startTime)-r:0),c=Math.max(s,a?a.responseEnd-r:0),l=Math.max(c,i.startTime-r);t={element:T(i.element),timeToFirstByte:o,resourceLoadDelay:s-o,resourceLoadDuration:c-s,elementRenderDelay:l-c,navigationEntry:n,lcpEntry:i},i.url&&(t.url=i.url),a&&(t.lcpResourceEntry=a)}}return Object.assign(e,{attribution:t})}(t))},r=(r=t)||{},O(function(){var e,t=R(),i=S("LCP"),a=function(n){r.reportAllChanges||(n=n.slice(-1)),n.forEach(function(n){n.startTime<t.firstHiddenTime&&(i.value=Math.max(n.startTime-_(),0),i.entries=[n],e())})},o=w("largest-contentful-paint",a);if(o){e=I(n,i,eg,r.reportAllChanges);var s=k(function(){ev[i.id]||(a(o.takeRecords()),o.disconnect(),ev[i.id]=!0,e(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return Z(s)},{once:!0,capture:!0})}),A(s),E(function(t){e=I(n,i=S("LCP"),eg,r.reportAllChanges),M(function(){i.value=performance.now()-t.timeStamp,ev[i.id]=!0,e(!0)})})}})},eT={passive:!0,capture:!0},ey=new Date,eE=function(e,t){eu||(eu=t,ed=e,ef=new Date,ew(removeEventListener),e_())},e_=function(){if(ed>=0&&ed<ef-ey){var e={entryType:"first-input",name:eu.type,target:eu.target,cancelable:eu.cancelable,startTime:eu.timeStamp,processingStart:eu.timeStamp+ed};ep.forEach(function(t){t(e)}),ep=[]}},eS=function(e){if(e.cancelable){var t,n,r,i=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?(t=function(){eE(i,e),r()},n=function(){r()},r=function(){removeEventListener("pointerup",t,eT),removeEventListener("pointercancel",n,eT)},addEventListener("pointerup",t,eT),addEventListener("pointercancel",n,eT)):eE(i,e)}},ew=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,eS,eT)})},eI=n(3310),eM=n(75);n(6805);let eA="@firebase/performance",ek="0.7.9",eN="FB-PERF-TRACE-MEASURE",eC="_wt_",eL="_fcp",eP="_fid",eF="_lcp",eR="_inp",eO="_cls",eU="@firebase/performance/config",eD="@firebase/performance/configexpire",eB="Performance",ex=new m.LL("performance",eB,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),ej=new h.Yd(eB);ej.logLevel=h.in.INFO;class eq{constructor(e){if(this.window=e,!e)throw ex.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay),this.onLCP=eb,this.onINP=eh,this.onCLS=x}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){this.performance&&this.performance.mark&&this.performance.mark(e)}measure(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,m.zI)()?!!(0,m.hl)()||(ej.info("IndexedDB is not supported by current browser"),!1):(ej.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(e=>{for(let n of e.getEntries())t(n)}).observe({entryTypes:[e]})}static getInstance(){return void 0===r&&(r=new eq(i)),r}}function e$(e,t){let n=e.length-t.length;if(n<0||n>1)throw ex.create("invalid String merger input");let r=[];for(let n=0;n<e.length;n++)r.push(e.charAt(n)),t.length>n&&r.push(t.charAt(n));return r.join("")}class ez{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=e$("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=e$("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12,this.logMaxFlushSize=40}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===o&&(o=new ez),o}}(u=d||(d={}))[u.UNKNOWN=0]="UNKNOWN",u[u.VISIBLE=1]="VISIBLE",u[u.HIDDEN=2]="HIDDEN";let eW=["firebase_","google_","ga_"],eK=RegExp("^[a-zA-Z]\\w*$");function eV(e){let t=e.options?.appId;if(!t)throw ex.create("no app id");return t}let eH={loggingEnabled:!0};function eJ(e){if(!e)return e;let t=ez.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=eH.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):eH.logSource&&(t.logSource=eH.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:eH.logEndPointUrl&&(t.logEndPointUrl=eH.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:eH.transportKey&&(t.transportKey=eH.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==eH.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=eH.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==eH.tracesSamplingRate&&(t.tracesSamplingRate=eH.tracesSamplingRate),n.fpr_log_max_flush_size?t.logMaxFlushSize=Number(n.fpr_log_max_flush_size):eH.logMaxFlushSize&&(t.logMaxFlushSize=eH.logMaxFlushSize),t.logTraceAfterSampling=eX(t.tracesSamplingRate),t.logNetworkAfterSampling=eX(t.networkRequestsSamplingRate),e}function eX(e){return Math.random()<=e}let eG=1;function eY(e){return eG=2,s=s||(function(){let e=eq.getInstance().document;return new Promise(t=>{if(e&&"complete"!==e.readyState){let n=()=>{"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})})().then(()=>(function(e){let t=e.getId();return t.then(e=>{a=e}),t})(e.installations)).then(t=>(function(e,t){let n=function(){let e=eq.getInstance().localStorage;if(!e)return;let t=e.getItem(eD);if(!t||!(Number(t)>Date.now()))return;let n=e.getItem(eU);if(n)try{return JSON.parse(n)}catch{return}}();return n?(eJ(n),Promise.resolve()):(function(e){let t=e.getToken();return t.then(e=>{}),t})(e.installations).then(n=>{let r=function(e){let t=e.options?.projectId;if(!t)throw ex.create("no project id");return t}(e.app),i=function(e){let t=e.options?.apiKey;if(!t)throw ex.create("no api key");return t}(e.app);return fetch(new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${n}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:eV(e.app),app_version:ek,sdk_version:"0.0.1"})})).then(e=>{if(e.ok)return e.json();throw ex.create("RC response not ok")})}).catch(()=>{ej.info("Could not fetch config, will use default configs")}).then(eJ).then(e=>(function(e){let t=eq.getInstance().localStorage;e&&t&&(t.setItem(eU,JSON.stringify(e)),t.setItem(eD,String(Date.now()+36e5*ez.getInstance().configTimeToLive)))})(e),()=>{})})(e,t)).then(()=>void(eG=3),()=>void(eG=3))}let eZ=new TextEncoder,eQ=3,e0=[],e1=!1;function e3(e){let t=e.map(e=>({source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}));return JSON.stringify({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ez.getInstance().logSource,log_event:t})}function e2(){let e=ez.getInstance().getFlTransportFullUrl();for(;e0.length>0;){let t=e0.splice(-ez.getInstance().logMaxFlushSize),n=e3(t);if(!(navigator.sendBeacon&&navigator.sendBeacon(e,n))){e0=[...e0,...t];break}}e0.length>0&&fetch(e,{method:"POST",body:e3(e0)}).catch(()=>{ej.info("Failed flushing queued events.")})}function e9(e,t){if(!c){var n;c={send:(n=e6,(...e)=>{!function(e){if(!e.eventTime||!e.message)throw ex.create("invalid cc log");e0=[...e0,e]}({message:n(...e),eventTime:Date.now()})}),flush:e2}}c.send(e,t)}function e4(e){let t=ez.getInstance();(t.instrumentationEnabled||!e.isAuto)&&(t.dataCollectionEnabled||e.isAuto)&&eq.getInstance().requiredApisAvailable()&&(3===eG?e5(e):eY(e.performanceController).then(()=>e5(e),()=>e5(e)))}function e5(e){if(!a)return;let t=ez.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&e9(e,1)}function e6(e,t){return 0===t?function(e){let t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs};return JSON.stringify({application_info:e7(e.performanceController.app),network_request_metric:t})}(e):function(e){let t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);let n=e.getAttributes();return 0!==Object.keys(n).length&&(t.custom_attributes=n),JSON.stringify({application_info:e7(e.performanceController.app),trace_metric:t})}(e)}function e7(e){return{google_app_id:eV(e),app_instance_id:a,web_app_info:{sdk_version:ek,page_url:eq.getInstance().getUrl(),service_worker_status:function(){let e=eq.getInstance().navigator;return e?.serviceWorker?e.serviceWorker.controller?2:3:1}(),visibility_state:function(){switch(eq.getInstance().document.visibilityState){case"visible":return d.VISIBLE;case"hidden":return d.HIDDEN;default:return d.UNKNOWN}}(),effective_connection_type:function(){let e=eq.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0}}function e8(e,t){if(!t||void 0===t.responseStart)return;let n=eq.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,a=Math.floor((t.responseEnd-t.startTime)*1e3);!function(e){let t=ez.getInstance();if(!t.instrumentationEnabled)return;let n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&e9(e,0)}({performanceController:e,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:a})}let te=["_fp",eL,eP,eF,eO,eR];class tt{constructor(e,t,n=!1,r){this.performanceController=e,this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=eq.getInstance(),this.randomId=Math.floor(1e6*Math.random()),!this.isAuto&&(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${eN}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw ex.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw ex.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),e4(this)}record(e,t,n){if(e<=0)throw ex.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw ex.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes={...n.attributes}),n&&n.metrics)for(let e of Object.keys(n.metrics))isNaN(Number(n.metrics[e]))||(this.counters[e]=Math.floor(Number(n.metrics[e])));e4(this)}incrementMetric(e,t=1){void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}putMetric(e,t){var n;if(n=this.name,0!==e.length&&!(e.length>100)&&(n&&n.startsWith(eC)&&te.indexOf(e)>-1||!e.startsWith("_")))this.counters[e]=function(e){let t=Math.floor(e);return t<e&&ej.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}(t??0);else throw ex.create("invalid custom metric name",{customMetricName:e})}getMetric(e){return this.counters[e]||0}putAttribute(e,t){let n=0!==e.length&&!(e.length>40)&&!eW.some(t=>e.startsWith(t))&&!!e.match(eK),r=0!==t.length&&t.length<=100;if(n&&r){this.customAttributes[e]=t;return}if(!n)throw ex.create("invalid attribute name",{attributeName:e});if(!r)throw ex.create("invalid attribute value",{attributeValue:t})}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return{...this.customAttributes}}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){let e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor((t.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(e,t,n,r,i){let a=eq.getInstance().getUrl();if(!a)return;let o=new tt(e,eC+a,!0),s=Math.floor(1e3*eq.getInstance().getTimeOrigin());if(o.setStartTime(s),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){let e=n.find(e=>"first-paint"===e.name);e&&e.startTime&&o.putMetric("_fp",Math.floor(1e3*e.startTime));let t=n.find(e=>"first-contentful-paint"===e.name);t&&t.startTime&&o.putMetric(eL,Math.floor(1e3*t.startTime)),i&&o.putMetric(eP,Math.floor(1e3*i))}this.addWebVitalMetric(o,eF,"lcp_element",r.lcp),this.addWebVitalMetric(o,eO,"cls_largestShiftTarget",r.cls),this.addWebVitalMetric(o,eR,"inp_interactionTarget",r.inp),e4(o),c&&c.flush()}static addWebVitalMetric(e,t,n,r){r&&(e.putMetric(t,Math.floor(1e3*r.value)),r.elementAttribution&&(r.elementAttribution.length>100?e.putAttribute(n,r.elementAttribution.substring(0,100)):e.putAttribute(n,r.elementAttribution)))}static createUserTimingTrace(e,t){e4(new tt(e,t,!1,t))}}let tn={},tr=!1;function ti(e){a&&(setTimeout(()=>(function(e){let t=eq.getInstance();"onpagehide"in window?t.document.addEventListener("pagehide",()=>to(e)):t.document.addEventListener("unload",()=>to(e)),t.document.addEventListener("visibilitychange",()=>{"hidden"===t.document.visibilityState&&to(e)}),t.onFirstInputDelay&&t.onFirstInputDelay(e=>{l=e}),t.onLCP(e=>{tn.lcp={value:e.value,elementAttribution:e.attribution?.element}}),t.onCLS(e=>{tn.cls={value:e.value,elementAttribution:e.attribution?.largestShiftTarget}}),t.onINP(e=>{tn.inp={value:e.value,elementAttribution:e.attribution?.interactionTarget}})})(e),0),setTimeout(()=>(function(e){let t=eq.getInstance();for(let n of t.getEntriesByType("resource"))e8(e,n);t.setupObserver("resource",t=>e8(e,t))})(e),0),setTimeout(()=>(function(e){let t=eq.getInstance();for(let n of t.getEntriesByType("measure"))ta(e,n);t.setupObserver("measure",t=>ta(e,t))})(e),0))}function ta(e,t){let n=t.name;n.substring(0,eN.length)!==eN&&tt.createUserTimingTrace(e,n)}function to(e){if(!tr){tr=!0;let t=eq.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");setTimeout(()=>{tt.createOobTrace(e,n,r,tn,l)},0)}}class ts{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(e?.dataCollectionEnabled!==void 0&&(this.dataCollectionEnabled=e.dataCollectionEnabled),e?.instrumentationEnabled!==void 0&&(this.instrumentationEnabled=e.instrumentationEnabled),eq.getInstance().requiredApisAvailable()?(0,m.eu)().then(e=>{e&&(e1||(function e(t){setTimeout(()=>{eQ<=0||(e0.length>0&&function(){let t=e0.splice(0,1e3);(function(e){let t=ez.getInstance().getFlTransportFullUrl();return eZ.encode(e).length<=65536&&navigator.sendBeacon&&navigator.sendBeacon(t,e)?Promise.resolve():fetch(t,{method:"POST",body:e})})(e3(t)).then(()=>{eQ=3}).catch(()=>{e0=[...t,...e0],eQ--,ej.info(`Tries left: ${eQ}.`),e(1e4)})}(),e(1e4))},t)}(5500),e1=!0),eY(this).then(()=>ti(this),()=>ti(this)),this.initialized=!0)}).catch(e=>{ej.info(`Environment doesn't support IndexedDB: ${e}`)}):ej.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){ez.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return ez.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){ez.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return ez.getInstance().dataCollectionEnabled}}function tc(e=(0,eI.Mq)()){return e=(0,m.m9)(e),(0,eI.qX)(e,"performance").getImmediate()}(0,eI.Xd)(new eM.wA("performance",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw ex.create("FB not default");if("undefined"==typeof window)throw ex.create("no window");i=window;let a=new ts(n,r);return a._init(t),a},"PUBLIC")),(0,eI.KN)(eA,ek),(0,eI.KN)(eA,ek,"esm2020")}}]);