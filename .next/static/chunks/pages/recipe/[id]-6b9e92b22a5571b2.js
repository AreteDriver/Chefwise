(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{3195:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recipe/[id]",function(){return r(7017)}])},7017:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return x}});var t=r(5893),a=r(7294),l=r(1163),i=r(9008),n=r.n(i),c=r(5876),d=r(6727),o=r(1158);function x(e){let{user:s}=e,r=(0,l.useRouter)(),{id:i}=r.query,[x,m]=(0,a.useState)(null),[h,g]=(0,a.useState)(!0),[u,p]=(0,a.useState)(!1),{isOnline:j}=(0,o.kH)();(0,a.useEffect)(()=>{i&&(async()=>{try{let e=await (0,d.G3)(i);m(e)}catch(e){console.error("Error loading recipe:",e)}finally{g(!1)}})()},[i]);let b=async()=>{try{await (0,d.eI)(i),r.push("/recipes")}catch(e){console.error("Error deleting recipe:",e)}};if(h)return(0,t.jsx)(c.Z,{user:s,currentPage:"recipes",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),(0,t.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})})});if(!x)return(0,t.jsx)(c.Z,{user:s,currentPage:"recipes",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8 text-center",children:[(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Recipe not found"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"This recipe may have been deleted or doesn't exist."}),(0,t.jsx)("button",{onClick:()=>r.push("/recipes"),className:"bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:"Back to Recipes"})]})});let v=(x.prepTime||0)+(x.cookTime||0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{children:(0,t.jsxs)("title",{children:[x.title," - ChefWise"]})}),(0,t.jsxs)(c.Z,{user:s,currentPage:"recipes",children:[(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("button",{onClick:()=>{r.back()},className:"flex items-center text-gray-600 hover:text-primary mb-6 transition-colors",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),!j&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"text-sm text-blue-700",children:"Viewing cached recipe offline"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:x.title}),x.description&&(0,t.jsx)("p",{className:"text-gray-600",children:x.description})]}),(0,t.jsx)("button",{onClick:()=>p(!0),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Delete recipe",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[v>0&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("span",{children:[v," min total"]}),x.prepTime>0&&x.cookTime>0&&(0,t.jsxs)("span",{className:"ml-1 text-gray-400",children:["(",x.prepTime," prep + ",x.cookTime," cook)"]})]}),x.servings&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),(0,t.jsxs)("span",{children:[x.servings," servings"]})]})]}),x.tags&&x.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:x.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 bg-primary/10 text-primary text-sm rounded-full",children:e},s))})]}),x.macros&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Nutrition Facts"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:x.macros.calories}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Calories"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[x.macros.protein,"g"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Protein"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[x.macros.carbs,"g"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Carbs"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[x.macros.fat,"g"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Fat"})]})]}),(x.macros.fiber||x.macros.sugar||x.macros.sodium)&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[x.macros.fiber&&(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[x.macros.fiber,"g"]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Fiber"})]}),x.macros.sugar&&(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[x.macros.sugar,"g"]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Sugar"})]}),x.macros.sodium&&(0,t.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[x.macros.sodium,"mg"]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Sodium"})]})]})]}),x.ingredients&&x.ingredients.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Ingredients"}),(0,t.jsx)("ul",{className:"space-y-2",children:x.ingredients.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2 mt-0.5 text-primary flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"text-gray-700",children:"string"==typeof e?e:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"font-medium",children:[e.amount," ",e.unit]})," ",e.item]})})]},s))})]}),x.steps&&x.steps.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Instructions"}),(0,t.jsx)("ol",{className:"space-y-4",children:x.steps.map((e,s)=>(0,t.jsxs)("li",{className:"flex",children:[(0,t.jsx)("span",{className:"flex-shrink-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-semibold mr-4",children:s+1}),(0,t.jsx)("p",{className:"text-gray-700 pt-1",children:e})]},s))})]}),x.savedAt&&(0,t.jsxs)("p",{className:"text-sm text-gray-400 text-center",children:["Saved on ",new Date(x.savedAt).toLocaleDateString()]})]}),u&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Delete Recipe?"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',x.title,'"? This action cannot be undone.']}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:b,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Delete"}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"flex-1 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})]})]})}},9008:function(e,s,r){e.exports=r(3867)},1163:function(e,s,r){e.exports=r(3079)}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=3195)}),_N_E=e.O()}]);